<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wckj.chasstage.modules.fkgl.dao.ChasYwFkdjMapper">
  <resultMap id="BaseResultMap" type="com.wckj.chasstage.modules.fkgl.entity.ChasYwFkdj">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 15 16:09:39 CST 2019.
    -->
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="isdel" jdbcType="SMALLINT" property="isdel" />
    <result column="data_flag" jdbcType="VARCHAR" property="dataFlag" />
    <result column="lrr_sfzh" jdbcType="VARCHAR" property="lrrSfzh" />
    <result column="lrsj" jdbcType="TIMESTAMP" property="lrsj" />
    <result column="xgr_sfzh" jdbcType="VARCHAR" property="xgrSfzh" />
    <result column="xgsj" jdbcType="TIMESTAMP" property="xgsj" />
    <result column="ryxm" jdbcType="VARCHAR" property="fkxm" />
    <result column="xb" jdbcType="VARCHAR" property="xb" />
    <result column="zjlx" jdbcType="VARCHAR" property="zjlx" />
    <result column="ry_sfzh" jdbcType="VARCHAR" property="fksfzh" />
    <result column="csrq" jdbcType="TIMESTAMP" property="csrq" />
    <result column="hjdxz" jdbcType="VARCHAR" property="hjdxz" />
    <result column="fklb" jdbcType="VARCHAR" property="fklb" />
    <result column="rybh" jdbcType="VARCHAR" property="rybh" />
    <result column="lxdh" jdbcType="VARCHAR" property="lxdh" />
    <result column="rqsj" jdbcType="TIMESTAMP" property="jrsj" />
    <result column="cqsj" jdbcType="TIMESTAMP" property="cqsj" />
    <result column="fwsx" jdbcType="SMALLINT" property="fwsx" />
    <result column="fwyy" jdbcType="VARCHAR" property="fwyy" />
    <result column="zpid" jdbcType="VARCHAR" property="zpid" />
    <result column="baqid" jdbcType="VARCHAR" property="baqid" />
    <result column="baqmc" jdbcType="VARCHAR" property="baqmc" />
    <result column="zt" jdbcType="VARCHAR" property="zt" />
    <result column="wdbh_l" jdbcType="VARCHAR" property="wdbhL" />
    <result column="wdbh_h" jdbcType="VARCHAR" property="wdbhH" />
    <result column="xklx" jdbcType="VARCHAR" property="xklx" />
    <result column="fwrs" jdbcType="INTEGER" property="fwrs" />
    <result column="register_code" jdbcType="VARCHAR" property="registerCode" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    update chas_yw_fkdj set isdel=1,XGSJ = date_trunc('second', now())
    where id = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.wckj.chasstage.modules.fkgl.entity.ChasYwFkdj">
    insert into chas_yw_fkdj (id, isdel, data_flag, 
      lrr_sfzh, lrsj, xgr_sfzh, 
      xgsj, ryxm, xb, zjlx,
      ry_sfzh, csrq, hjdxz,
      fklb, rybh, lxdh, rqsj,
      cqsj, fwsx, fwyy, 
      zpid, baqid, baqmc, 
      zt, wdbh_l,
      wdbh_h,xklx, fwrs, register_code)
    values (#{id,jdbcType=VARCHAR}, #{isdel,jdbcType=SMALLINT}, #{dataFlag,jdbcType=VARCHAR},
      #{lrrSfzh,jdbcType=VARCHAR}, #{lrsj,jdbcType=TIMESTAMP}, #{xgrSfzh,jdbcType=VARCHAR}, 
      #{xgsj,jdbcType=TIMESTAMP}, #{fkxm,jdbcType=VARCHAR}, #{xb,jdbcType=VARCHAR}, #{zjlx,jdbcType=VARCHAR},
      #{fksfzh,jdbcType=VARCHAR}, #{csrq,jdbcType=TIMESTAMP}, #{hjdxz,jdbcType=VARCHAR},
      #{fklb,jdbcType=VARCHAR}, #{rybh,jdbcType=VARCHAR}, #{lxdh,jdbcType=VARCHAR}, #{jrsj,jdbcType=TIMESTAMP},
      #{cqsj,jdbcType=TIMESTAMP}, #{fwsx,jdbcType=SMALLINT}, #{fwyy,jdbcType=VARCHAR},
      #{zpid,jdbcType=VARCHAR}, #{baqid,jdbcType=VARCHAR}, #{baqmc,jdbcType=VARCHAR},
      #{zt,jdbcType=VARCHAR}, #{wdbhL,jdbcType=VARCHAR},
      #{wdbhH,jdbcType=VARCHAR},#{xklx,jdbcType=VARCHAR}
      , #{fwrs,jdbcType=INTEGER}, #{registerCode,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wckj.chasstage.modules.fkgl.entity.ChasYwFkdj">
    update chas_yw_fkdj
    set isdel = #{isdel,jdbcType=SMALLINT},
      data_flag = #{dataFlag,jdbcType=VARCHAR},
      lrr_sfzh = #{lrrSfzh,jdbcType=VARCHAR},
      lrsj = #{lrsj,jdbcType=TIMESTAMP},
      xgr_sfzh = #{xgrSfzh,jdbcType=VARCHAR},
      xgsj = #{xgsj,jdbcType=TIMESTAMP},
      ryxm = #{fkxm,jdbcType=VARCHAR},
      xb = #{xb,jdbcType=VARCHAR},
      zjlx = #{zjlx,jdbcType=VARCHAR},
      ry_sfzh = #{fksfzh,jdbcType=VARCHAR},
      csrq = #{csrq,jdbcType=TIMESTAMP},
      hjdxz = #{hjdxz,jdbcType=VARCHAR},
      fklb = #{fklb,jdbcType=VARCHAR},
      rybh = #{rybh,jdbcType=VARCHAR},
      lxdh = #{lxdh,jdbcType=VARCHAR},
      rqsj = #{jrsj,jdbcType=TIMESTAMP},
      cqsj = #{cqsj,jdbcType=TIMESTAMP},
      fwsx = #{fwsx,jdbcType=SMALLINT},
      fwyy = #{fwyy,jdbcType=VARCHAR},
      zpid = #{zpid,jdbcType=VARCHAR},
      baqid = #{baqid,jdbcType=VARCHAR},
      baqmc = #{baqmc,jdbcType=VARCHAR},
      zt = #{zt,jdbcType=VARCHAR},
      wdbh_l = #{wdbhL,jdbcType=VARCHAR},
      wdbh_h = #{wdbhH,jdbcType=VARCHAR},
      xklx=#{xklx,jdbcType=VARCHAR},
      fwrs = #{fwrs,jdbcType=INTEGER},
      register_code = #{registerCode,jdbcType=VARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 15 16:09:39 CST 2019.
    -->
    select *
    from chas_yw_fkdj
    where id = #{id,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 15 16:09:39 CST 2019.
    -->
    select *
    from chas_yw_fkdj where 1 = 1 and isdel = 0
    <if test="ryxm != null and ryxm != ''">
        and ryxm like '%${ryxm}%'
    </if>
    <if test="fkxm != null and fkxm != ''">
      and ryxm like '%${fkxm}%'
    </if>
    <if test="rybh != null and rybh != ''">
        and rybh = '${rybh}'
    </if>
    <if test="xb != null and xb != ''">
      and xb = '${xb}'
    </if>
    <if test="fklb != null and fklb != ''">
        and fklb = '${fklb}'
    </if>
    <if test="baqid != null and baqid != ''">
        and baqid = '${baqid}'
    </if>
    <if test="zt != null and zt != ''">
        and zt = '${zt}'
    </if>
    <if test="wdbh != null and wdbh != ''">
        and (wdbh_l = '${wdbh}' or wdbh_h = '${wdbh}')
    </if>
    <if test="wdbhL != null and wdbhL != ''">
        and wdbh_l = '${wdbhL}'
    </if>
    <if test="wdbhH != null and wdbhH != ''">
        and wdbh_h = '${wdbhH}'
    </if>
    <if test="rySfzh != null and rySfzh != ''">
        and ry_sfzh = '${rySfzh}'
    </if>
    <if test="fksfzh != null and fksfzh != ''">
      and ry_sfzh = '${fksfzh}'
    </if>
    <!--<if test="qxbs == 'province'">-->
      <!--and BAQID LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},2),'%')-->
    <!--</if>-->
    <!--<if test="qxbs == 'city'">-->
      <!--and BAQID LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},4),'%')-->
    <!--</if>-->
    <!--<if test="qxbs == 'reg'">-->
      <!--and BAQID LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},6),'%')-->
    <!--</if>-->
    <!--<if test="qxbs == 'org'">-->
      <!--and BAQID LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},8),'%')-->
    <!--</if>-->
    <!--<if test="qxbs == 'user'">-->
      <!--and LRR_SFZH = #{idCard,jdbcType=VARCHAR}-->
    <!--</if>-->
    <if test="sydwdm != null and sydwdm !=''">
      and BAQID in (select baqref.baqid from chas_xt_baqref baqref where baqref.sydwdm ='${sydwdm}')
    </if>
    order by rqsj desc
  </select>

  <select id="isFkzq" parameterType="java.lang.String" resultMap="BaseResultMap">
   select * from chas_yw_fkdj
    where isdel = 0 and zt = '02'
    and ry_sfzh = #{mjsfzh,jdbcType=VARCHAR}
  </select>
</mapper>