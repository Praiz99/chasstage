<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wckj.chasstage.modules.sxdp.dao.ChasSxdpMapper">
  <resultMap id="BaseResultMap" type="com.wckj.chasstage.modules.sxdp.entity.ChasSxdp">
    <!--
        WARNING - @mbg.generated
        This element is automatically generated by MyBatis Generator, do not modify.
        This element was generated on Tue Nov 21 18:09:54 CST 2017.
      -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
	<result column="ISDEL" jdbcType="INTEGER" property="isdel" />
    <result column="LRR_SFZH" jdbcType="VARCHAR" property="lrrSfzh" />
	<result column="LRSJ" jdbcType="TIMESTAMP" property="lrsj" />
	<result column="XGR_SFZH" jdbcType="VARCHAR" property="xgrSfzh" />
	<result column="XGSJ" jdbcType="TIMESTAMP" property="xgsj" />
	<result column="DDRWID" jdbcType="VARCHAR" property="ddrwid" />
	<result column="XYRXM" jdbcType="VARCHAR" property="xyrxm" />
	<result column="SXSBH" jdbcType="VARCHAR" property="sxsbh" />
	<result column="SXSMC" jdbcType="VARCHAR" property="sxsmc" />
	<result column="SXMJBH" jdbcType="VARCHAR" property="sxmjbh" />
	<result column="SXMJXM" jdbcType="VARCHAR" property="sxmjxm" />
	<result column="RWZT" jdbcType="VARCHAR" property="rwzt" />
	<result column="ZWDGSJ" jdbcType="TIMESTAMP" property="zwdgsj" />
	<result column="XYR" jdbcType="VARCHAR" property="xyr" />
  </resultMap>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
        WARNING - @mbg.generated
        This element is automatically generated by MyBatis Generator, do not modify.
        This element was generated on Tue Nov 21 18:09:54 CST 2017.
      -->
    select *
    from chas_yw_sxdp
    where ID = #{id,jdbcType=VARCHAR}
  </select>
  
  <insert id="insert" parameterType="com.wckj.chasstage.modules.sxdp.entity.ChasSxdp">
    <!--
        WARNING - @mbg.generated
        This element is automatically generated by MyBatis Generator, do not modify.
        This element was generated on Tue Nov 21 18:09:54 CST 2017.
      -->
    insert into chas_yw_sxdp (ID, ISDEL, LRR_SFZH, LRSJ, XGR_SFZH, XGSJ, DDRWID, XYRXM, SXSBH, SXSMC, SXMJXM, RWZT,
     ZWDGSJ, SXMJBH, XYR)
    values (#{id}, #{isdel}, #{lrrSfzh}, #{lrsj}, #{xgrSfzh}, #{xgsj}, #{ddrwid}, #{xyrxm},
     #{sxsbh}, #{sxsmc}, #{sxmjxm}, #{rwzt}, #{zwdgsj}, #{sxmjbh}, #{xyr})
  </insert>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
        WARNING - @mbg.generated
        This element is automatically generated by MyBatis Generator, do not modify.
        This element was generated on Tue Nov 21 18:09:54 CST 2017.
      -->
    select *
    from "chas_yw_sxdp"
  <where>
    1=1 and isdel = 0 and rwzt != '03' and (sxsj &gt; now() or sxsj is null)
    <!-- <if test="lxdh != null and lxdh !=''">
        and lxdh like '%${lxdh}%'
    </if> -->
  </where>
  </select>
  
   <update id="updateByPrimaryKey" parameterType="com.wckj.chasstage.modules.sxdp.entity.ChasSxdp">
    update chas_yw_sxdp
    set 
      XGR_SFZH = #{lrrSfzh,jdbcType=VARCHAR},
      XGSJ = #{xgsj,jdbcType=TIMESTAMP},
      SXSBH = #{sxsbh,jdbcType=VARCHAR},
      SXSMC = #{sxsmc,jdbcType=VARCHAR},
      SXMJBH = #{sxmjxm,jdbcType=VARCHAR},
      SXMJXM = #{sxmjbh,jdbcType=VARCHAR},
      RWZT = #{rwzt,jdbcType=VARCHAR},
      ZWDGSJ = #{zwdgsj,jdbcType=VARCHAR},
      SXSJ = #{sxsj,jdbcType=TIMESTAMP}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  
  <update id="startMission" parameterType="com.wckj.chasstage.modules.sxdp.entity.ChasSxdp">
  	update chas_yw_sxdp
    set 
      XGR_SFZH = #{lrrSfzh,jdbcType=VARCHAR},
      XGSJ = #{xgsj,jdbcType=TIMESTAMP},
      SXSBH = #{sxsbh,jdbcType=VARCHAR},
      SXSMC = #{sxsmc,jdbcType=VARCHAR},
      SXMJBH = #{sxmjbh,jdbcType=VARCHAR},
      SXMJXM = #{sxmjxm,jdbcType=VARCHAR},
      RWZT = #{rwzt,jdbcType=VARCHAR},
      ZWDGSJ = #{zwdgsj,jdbcType=TIMESTAMP},
       SXSJ = #{sxsj,jdbcType=TIMESTAMP}
    where XYR = #{xyr,jdbcType=VARCHAR} and rwzt = '01'
  </update>
  
  <update id="endMission" parameterType="com.wckj.chasstage.modules.sxdp.entity.ChasSxdp">
  	update chas_yw_sxdp
    set 
      RWZT = #{rwzt,jdbcType=VARCHAR},
      XGR_SFZH = #{lrrSfzh,jdbcType=VARCHAR},
      XGSJ = #{xgsj,jdbcType=TIMESTAMP}
    where XYR = #{xyr,jdbcType=VARCHAR}
  </update>
  
</mapper>