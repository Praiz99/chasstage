<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wckj.chasstage.modules.njjl.dao.ChasYwNjRecordMapper">
  <resultMap id="BaseResultMap" type="com.wckj.chasstage.modules.njjl.entity.ChasYwNjRecord">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    <id column="id" jdbcType="VARCHAR" property="id" />
    <result column="isdel" jdbcType="INTEGER" property="isdel" />
    <result column="data_flag" jdbcType="VARCHAR" property="dataFlag" />
    <result column="lrr_sfzh" jdbcType="VARCHAR" property="lrrSfzh" />
    <result column="lrsj" jdbcType="TIMESTAMP" property="lrsj" />
    <result column="xgr_sfzh" jdbcType="VARCHAR" property="xgrSfzh" />
    <result column="xgsj" jdbcType="TIMESTAMP" property="xgsj" />
    <result column="nybh" jdbcType="VARCHAR" property="nybh" />
    <result column="bjcr_sfzh" jdbcType="VARCHAR" property="bjcrSfzh" />
    <result column="bjcr_xm" jdbcType="VARCHAR" property="bjcrXm" />
    <result column="czmj_sfzh" jdbcType="VARCHAR" property="czmjSfzh" />
    <result column="czmj_xm" jdbcType="VARCHAR" property="czmjXm" />
    <result column="cqsj" jdbcType="TIMESTAMP" property="cqsj" />
    <result column="sjbq" jdbcType="TIMESTAMP" property="sjbq" />
    <result column="zbdw_bh" jdbcType="VARCHAR" property="zbdwBh" />
    <result column="zbdw_mc" jdbcType="VARCHAR" property="zbdwMc" />
    <result column="dwxtbh" jdbcType="VARCHAR" property="dwxtbh" />
    <result column="czlx" jdbcType="VARCHAR" property="czlx" />
    <result column="rybh" jdbcType="VARCHAR" property="rybh" />
    <result column="business_id" jdbcType="VARCHAR" property="businessId" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    update chas_yw_nj_record
    set isdel = 1,XGSJ = date_trunc('second', now())
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.wckj.chasstage.modules.njjl.entity.ChasYwNjRecord">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    insert into chas_yw_nj_record (id, isdel, data_flag, 
      lrr_sfzh, lrsj, xgr_sfzh, 
      xgsj, nybh, bjcr_sfzh, 
      bjcr_xm, czmj_sfzh, czmj_xm, 
      cqsj, sjbq, zbdw_bh, 
      zbdw_mc, dwxtbh, czlx,rybh,business_id
      )
    values (#{id,jdbcType=VARCHAR}, #{isdel,jdbcType=INTEGER}, #{dataFlag,jdbcType=VARCHAR},
      #{lrrSfzh,jdbcType=VARCHAR}, #{lrsj,jdbcType=TIMESTAMP}, #{xgrSfzh,jdbcType=VARCHAR}, 
      #{xgsj,jdbcType=TIMESTAMP}, #{nybh,jdbcType=VARCHAR}, #{bjcrSfzh,jdbcType=VARCHAR}, 
      #{bjcrXm,jdbcType=VARCHAR}, #{czmjSfzh,jdbcType=VARCHAR}, #{czmjXm,jdbcType=VARCHAR}, 
      #{cqsj,jdbcType=TIMESTAMP}, #{sjbq,jdbcType=TIMESTAMP}, #{zbdwBh,jdbcType=VARCHAR}, 
      #{zbdwMc,jdbcType=VARCHAR}, #{dwxtbh,jdbcType=VARCHAR}, #{czlx,jdbcType=VARCHAR},
      #{rybh,jdbcType=VARCHAR}, #{businessId,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wckj.chasstage.modules.njjl.entity.ChasYwNjRecord">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    update chas_yw_nj_record
    set isdel = #{isdel,jdbcType=INTEGER},
      data_flag = #{dataFlag,jdbcType=VARCHAR},
      lrr_sfzh = #{lrrSfzh,jdbcType=VARCHAR},
      lrsj = #{lrsj,jdbcType=TIMESTAMP},
      xgr_sfzh = #{xgrSfzh,jdbcType=VARCHAR},
      xgsj = #{xgsj,jdbcType=TIMESTAMP},
      nybh = #{nybh,jdbcType=VARCHAR},
      bjcr_sfzh = #{bjcrSfzh,jdbcType=VARCHAR},
      bjcr_xm = #{bjcrXm,jdbcType=VARCHAR},
      czmj_sfzh = #{czmjSfzh,jdbcType=VARCHAR},
      czmj_xm = #{czmjXm,jdbcType=VARCHAR},
      cqsj = #{cqsj,jdbcType=TIMESTAMP},
      sjbq = #{sjbq,jdbcType=TIMESTAMP},
      zbdw_bh = #{zbdwBh,jdbcType=VARCHAR},
      zbdw_mc = #{zbdwMc,jdbcType=VARCHAR},
      dwxtbh = #{dwxtbh,jdbcType=VARCHAR},
      czlx = #{czlx,jdbcType=VARCHAR},
      rybh = #{rybh,jdbcType=VARCHAR},
      business_id = #{businessId,jdbcType=VARCHAR}
    where id = #{id,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    select *
    from chas_yw_nj_record
    where id = #{id,jdbcType=VARCHAR} and isdel != 1
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 09:44:53 CST 2020.
    -->
    select *
    from chas_yw_nj_record
    where 1 = 1 and isdel = 0
    <if test="rybh != null and rybh !=''">
      and RYBH = '${rybh}'
    </if>
    <if test="cqsj1 != '' and cqsj1 != null">
      and cqsj &gt;= to_timestamp('${cqsj1}','yyyy-MM-dd hh24:mi')
    </if>
    <if test="cqsj2 != null and cqsj2 != ''">
      and cqsj &lt;= to_timestamp('${cqsj2}','yyyy-MM-dd hh24:mi') + interval '1 day'
    </if>
    <if test="bjcrXm != null and bjcrXm != ''">
      and bjcr_xm like '${bjcrXm}%'
    </if>
    <if test="nybh != null and nybh != ''">
      and nybh = '${nybh}'
    </if>
    <if test="qxbs == 'province'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},2),'%')
    </if>
    <if test="qxbs == 'city'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},4),'%')
    </if>
    <if test="qxbs == 'reg'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},6),'%')
    </if>
    <if test="qxbs == 'org'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},8),'%')
    </if>
    <if test="qxbs == 'user'">
      and LRR_SFZH = #{idCard,jdbcType=VARCHAR}
    </if>
  </select>
</mapper>