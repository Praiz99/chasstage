<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wckj.chasstage.modules.njxx.dao.ChasYwNjMapper">
  <resultMap id="BaseResultMap" type="com.wckj.chasstage.modules.njxx.entity.ChasYwNj">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    <id column="ID" jdbcType="VARCHAR" property="id" />
    <result column="ISDEL" jdbcType="INTEGER" property="isdel" />
    <result column="DATA_FLAG" jdbcType="CHAR" property="dataflag" />
    <result column="LRR_SFZH" jdbcType="VARCHAR" property="lrrSfzh" />
    <result column="LRSJ" jdbcType="TIMESTAMP" property="lrsj" />
    <result column="XGR_SFZH" jdbcType="VARCHAR" property="xgrSfzh" />
    <result column="XGSJ" jdbcType="TIMESTAMP" property="xgsj" />
    <result column="BAQID" jdbcType="VARCHAR" property="baqid" />
    <result column="BAQMC" jdbcType="VARCHAR" property="baqmc" />
    <result column="ZBDW_BH" jdbcType="VARCHAR" property="zbdwBh" />
    <result column="ZBDW_MC" jdbcType="VARCHAR" property="zbdwMc" />
    <result column="ZBRSFZH" jdbcType="VARCHAR" property="zbrsfzh" />
    <result column="ZBRXM" jdbcType="VARCHAR" property="zbrxm" />
    <result column="TFSJ" jdbcType="TIMESTAMP" property="tfsj" />
    <result column="WSH" jdbcType="VARCHAR" property="wsh" />
    <result column="RYBH" jdbcType="VARCHAR" property="rybh" />
    <result column="RYXM" jdbcType="VARCHAR" property="ryxm" />
    <result column="XB" jdbcType="VARCHAR" property="xb" />
    <result column="CSRQ" jdbcType="TIMESTAMP" property="csrq" />
    <result column="ZJLB" jdbcType="VARCHAR" property="zjlb" />
    <result column="ZJHM" jdbcType="VARCHAR" property="zjhm" />
    <result column="XCJCSJ" jdbcType="TIMESTAMP" property="xcjcsj" />
    <result column="XCJCDD" jdbcType="VARCHAR" property="xcjcdd" />
    <result column="XCJCFF" jdbcType="VARCHAR" property="xcjcff" />
    <result column="XCJCJG" jdbcType="VARCHAR" property="xcjcjg" />
    <result column="JCSJ" jdbcType="TIMESTAMP" property="jcsj" />
    <result column="GZ" jdbcType="VARCHAR" property="gz" />
    <result column="DWXTBH" jdbcType="VARCHAR" property="dwxtbh" />
    
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    update chas_yw_nj
    set isdel = 1,XGSJ = date_trunc('second', now())
    where ID = #{id,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.wckj.chasstage.modules.njxx.entity.ChasYwNj">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    insert into chas_yw_nj (ID, DATA_FLAG, 
      LRR_SFZH, LRSJ, XGR_SFZH, 
      XGSJ, BAQID, BAQMC, ZBDW_BH, 
      ZBDW_MC, ZBRSFZH, ZBRXM, 
      TFSJ, WSH, RYBH, 
      RYXM, XB, CSRQ, ZJLB, 
      ZJHM, XCJCSJ, XCJCDD, 
      XCJCFF, XCJCJG, JCSJ, 
      GZ ,DWXTBH)
    values (#{id,jdbcType=VARCHAR}, #{dataflag,jdbcType=CHAR}, 
      #{lrrSfzh,jdbcType=VARCHAR}, now(), #{xgrSfzh,jdbcType=VARCHAR}, 
      now(), #{baqid,jdbcType=VARCHAR}, #{baqmc,jdbcType=VARCHAR}, #{zbdwBh,jdbcType=VARCHAR}, 
      #{zbdwMc,jdbcType=VARCHAR}, #{zbrsfzh,jdbcType=VARCHAR}, #{zbrxm,jdbcType=VARCHAR}, 
      #{tfsj,jdbcType=TIMESTAMP}, #{wsh,jdbcType=VARCHAR}, #{rybh,jdbcType=VARCHAR}, 
      #{ryxm,jdbcType=VARCHAR}, #{xb,jdbcType=VARCHAR}, #{csrq,jdbcType=TIMESTAMP}, #{zjlb,jdbcType=VARCHAR}, 
      #{zjhm,jdbcType=VARCHAR}, #{xcjcsj,jdbcType=TIMESTAMP}, #{xcjcdd,jdbcType=VARCHAR}, 
      #{xcjcff,jdbcType=VARCHAR}, #{xcjcjg,jdbcType=VARCHAR}, #{jcsj,jdbcType=TIMESTAMP}, 
      #{gz,jdbcType=VARCHAR}, 
      #{dwxtbh,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.wckj.chasstage.modules.njxx.entity.ChasYwNj">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    update chas_yw_nj
    set ISDEL = #{isdel,jdbcType=INTEGER},
      DATA_FLAG = #{dataflag,jdbcType=CHAR},
      LRR_SFZH = #{lrrSfzh,jdbcType=VARCHAR},
      XGR_SFZH = #{xgrSfzh,jdbcType=VARCHAR},
      XGSJ = date_trunc('second', now()),
      BAQID = #{baqid,jdbcType=VARCHAR},
      BAQMC = #{baqmc,jdbcType=VARCHAR},
      ZBDW_BH = #{zbdwBh,jdbcType=VARCHAR},
      ZBDW_MC = #{zbdwMc,jdbcType=VARCHAR},
      ZBRSFZH = #{zbrsfzh,jdbcType=VARCHAR},
      ZBRXM = #{zbrxm,jdbcType=VARCHAR},
      TFSJ = #{tfsj,jdbcType=TIMESTAMP},
      WSH = #{wsh,jdbcType=VARCHAR},
      RYBH = #{rybh,jdbcType=VARCHAR},
      RYXM = #{ryxm,jdbcType=VARCHAR},
      XB = #{xb,jdbcType=VARCHAR},
      CSRQ = #{csrq,jdbcType=TIMESTAMP},
      ZJLB = #{zjlb,jdbcType=VARCHAR},
      ZJHM = #{zjhm,jdbcType=VARCHAR},
      XCJCSJ = #{xcjcsj,jdbcType=TIMESTAMP},
      XCJCDD = #{xcjcdd,jdbcType=VARCHAR},
      XCJCFF = #{xcjcff,jdbcType=VARCHAR},
      XCJCJG = #{xcjcjg,jdbcType=VARCHAR},
      JCSJ = #{jcsj,jdbcType=TIMESTAMP},
      GZ = #{gz,jdbcType=VARCHAR},
      DWXTBH = #{dwxtbh,jdbcType=VARCHAR}
    where ID = #{id,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    select ID, ISDEL, DATA_FLAG, LRR_SFZH, LRSJ, XGR_SFZH, XGSJ, BAQID, BAQMC, ZBDW_BH, 
    ZBDW_MC, ZBRSFZH, ZBRXM, TFSJ, WSH, RYBH, RYXM, XB, CSRQ, ZJLB, ZJHM, XCJCSJ, XCJCDD, 
    XCJCFF, XCJCJG, JCSJ, GZ ,DWXTBH
    from chas_yw_nj
    where isdel=0 and ID = #{id,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Nov 20 16:34:19 CST 2017.
    -->
    select ID, ISDEL, DATA_FLAG, LRR_SFZH, LRSJ, XGR_SFZH, XGSJ, BAQID, BAQMC, ZBDW_BH, 
    ZBDW_MC, ZBRSFZH, ZBRXM, TFSJ, WSH, RYBH, RYXM, XB, CSRQ, ZJLB, ZJHM, XCJCSJ, XCJCDD, 
    XCJCFF, XCJCJG, JCSJ, GZ ,DWXTBH
    from chas_yw_nj
    <where>
      1=1 and ISDEL = 0
      <if test="rybh != null and rybh !=''">
          and RYBH = '${rybh}' 
      </if>
      <if test="jcsjStart != '' and jcsjStart != null">
          and xcjcsj &gt;= to_timestamp('${jcsjStart}','yyyy-MM-dd hh24:mi')
      </if>
      <if test="jcsjEnd != null and jcsjEnd != ''">
          and xcjcsj &lt;= to_timestamp('${jcsjEnd}','yyyy-MM-dd hh24:mi')
      </if>
      <if test="ryxm != null and ryxm != ''">
          and ryxm like '${ryxm}%'
      </if>
      <if test="baqid != null and baqid != ''">
          and baqid = '${baqid}'
      </if>
      <if test="qxbs == 'province'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},2),'%')
    </if>
      <if test="qxbs == 'city'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},4),'%')
    </if>
    <if test="qxbs == 'reg'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},6),'%')
    </if>
    <if test="qxbs == 'org'">
      and DWXTBH LIKE CONCAT(left(#{orgSysCode,jdbcType=VARCHAR},8),'%')
    </if>
    <if test="qxbs == 'user'">
      and LRR_SFZH = #{idCard,jdbcType=VARCHAR}
    </if>
  </where>
  </select>
</mapper>